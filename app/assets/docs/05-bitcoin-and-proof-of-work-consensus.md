# 5. Bitcoin & Proof-of-Work Consensus

In order to create Bitcoin, inventor Satoshi Nakamoto had to solve a number of problems: how to get a distributed group of validators to agree on the true version of the ledger; how to incentivize and motivate validators to process transactions and provide security for the blockchain network; how to prevent hostile entities from altering transaction records by tampering with the ledger's history of events; and how to space out the production of new blocks so the time between each one is consistent and predictable.

Satoshiâ€™s brilliance was in combining multiple fields of study in order to solve these problems, including incentive engineering, cryptography, game theory and computer science. This combination led to a solution for Bitcoin known as proof-of-work, also referred to as Nakamoto consensus.

## Mining Blocks by Solving Problems

The specific validators who are responsible for producing new blocks in Bitcoin are called miners. The block production process itself is called mining. In order for a miner to add their newly created block as the next link in the blockchain, they are first required to solve a difficult math problem. The problem itself involves making lots of random guesses in order to find a solution that matches.

There is more than one possible guess that will work as an answer for each problem. Each time a miner makes a new guess, that guess is first combined with some other relevant data and then it is run through a hashing algorithm, a program that checks and verifies whether it is the correct answer. The first miner that solves the problem gets to add their block onto the chain.

## Hashing Algorithms

The hashing algorithm is very important to the mining process, and not just for verifying whether the problem has been solved. When a hashing algorithm is fed data as input, the algorithm converts that data into an output in the form of a small string of numbers and letters. This output data is called a hash. A hashing algorithm only works in one direction, which means the hash that is produced from the input data will always result in the same string of numbers and letters as the output.

You could take an entire book as input data and run it through a hash algorithm and it will always produce the same resulting hash no matter how many times you do it. But if you were to change just a single character in the book and run it through the algorithm again, the resulting string of numbers and letters would be completely different. This makes it possible to verify whether something in the book or input data has been tampered with, even if it is something as slight as changing a single character.

If the resulting hash always contains the same string of numbers and letters each time it is run through the algorithm, then you can be sure that the input data was not tampered with. Every block in the blockchain contains its own hash, which acts as a guarantee that the contents of each block is true and unaltered.

## Searching for a Valid Hash

In order to find an answer to problems, miners need to combine three pieces of data: the hash from the previous block, the transactions from the block they are currently building; and a random guess. They run this combined input data through the algorithm to produce a hash, which is then checked to see if it works as an answer to the original problem.

If the hash does not match, then it is considered an invalid hash, and miners will repeat this process over and over by changing their guess and hashing all three pieces of data until they find a valid hash. Only when a miner finds a valid hash can they be sure that the problem has been solved.

Once a miner succeeds in finding a valid hash, they broadcast their new block along with their correct guess to the rest of the validators on the network, who verify whether it is correct by also running it through the algorithm. This makes it possible for other validators to quickly establish whether the miner did the necessary work to solve the problem. Once validated, the block can then be accepted as the next block in the chain. If however validators are unable to produce a valid hash, the new block will be rejected. In the case of rejection, validators simply wait until another miner submits a new block that can be accurately verified.

This process is not done by miners manually, but automatically, using computer processing power. Modern computers are able to try thousands of combinations of hashes per second, so miners are capable of making many guesses very quickly.

## Block Rewards

The process of mining blocks is expensive because of the use of electricity to power the computers that do the hashing. To make up for this cost, every time a miner solves a problem, that miner receives a block reward in the form of new bitcoin. These coins are automatically generated by the network with every new block that is produced. This is how new bitcoin is introduced into the supply and distributed over time.

Validators in Bitcoin are called miners because they are always digging for new coins by fulfilling the requirements of producing new blocks. Miners then sell the new coins they earn on the market to cover their costs while keeping the profit for themselves or reinvesting it in better mining equipment, which allows them to increase the hashes per second they perform along with their chances of earning more block rewards.

## The Cost of Lying

The purpose of requiring miners to solve problems is to make it difficult and costly for miners to lie. For example, if a miner tries to include an invalid transaction in a block, perhaps to spend the same bitcoin twice, the miner will have their block rejected by the network. A rejected block means the miner will forfeit their block reward and lose money on the electricity they used to mine that block. Bad behavior is punished, resulting in miners having a financial incentive to tell the truth and play by the rules.

This process also explains how blockchains are designed to be immutable and unchangeable. For example, if a miner tried submitting an alternate version of the blockchain where they altered previous transactions, validators would detect the change because the hash of the altered block would no longer be valid.

Because every single block in the chain is cryptographically linked through hashing, an alteration in any block would also cause the hash for every block after it to become invalid. The only way to truly alter a block in the past without detection would be to mine the altered block over again and every single block that came after it until the end of the chain. You would literally need to spend the resources to prove that you did the work to find a new valid hash for every single block after the one you altered. Currently it would cost billions of dollars to mine Bitcoin's blockchain from scratch in order to change something, which is financially infeasible even for the very wealthy.

Proof-of-work consensus therefore acts as a financial deterrent against altering the history of the blockchain by forcing a massive cost on those who try to attempt it. By rewarding miners, it incentivizes them to tell the truth and submit blocks with accurate transaction data while also punishing those who attempt to cheat the system with the risk of losing invested funds.

---
